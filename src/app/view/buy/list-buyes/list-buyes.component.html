<section>
    <app-page-header menu="Compras" subMenu=""></app-page-header>
    <div class="min-height-200px">
                
        <!-- table category -->
        <div class="pd-20 card-box mb-30 table-responsive">
            <div class="clearfix mb-20">
                <div class="pull-left">
                    <h4 class="text-blue h4">Listado de compras</h4>
                </div>
                <div class="pull-right">
                    <button (click)="openModal(null)" class="btn btn-outline-dark btn-sm scroll-click" rel="content-y"  data-toggle="collapse" role="button">
                        <i class="micon dw dw-add"></i> Agregar compra
                    </button>
                </div>
            </div>
            <table class="table table-striped ">
                <thead>
                    <tr> 
                        <th scope="col">Fecha</th>
                        <th scope="col">Producto</th>
                        <th scope="col">Cantidad</th>
                        <th scope="col">Precio</th>
                        <th scope="col">Proveedor</th>
                        <th scope="col">Canal</th>
                        <th scope="col">Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    <ng-container *ngIf="load.data">
                        <tr *ngFor="let stock of dataStock" >
                            <td>{{stock.buy.buy_date | date:'dd-MM-yyyy'}}</td>
                            <td>{{stock.product.identifier.replace("'", "-") + ' - ' +stock.product.sub_category.category.name + " " + stock.product.sub_category.name + ' ' + stock.product.name}}</td>
                            <td>{{stock.quantity | number}}</td>
                            <td>{{stock.buy.price | currency:'USD' : 'symbol' : '1.0-0'}}</td>
                            <td>{{stock.buy.supplier.name}}</td>
                            <td>{{stock.buy.channel.name}}</td>
                            <td><span class="badge badge-warning scroll-click" (click)="openModal(client)" >Editar</span></td>
                        </tr>
                    </ng-container>
                    <tr *ngIf="!load.data">
                        <td rowspan="7" colspan="7" align="center" >
                            <i class="fa fa-spinner fa-spin fa-3x"></i> 
                            <h4>
                                Cargando
                            </h4>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</section>

<app-new-update-buyes #modalNewUpdateBuy></app-new-update-buyes>
